# ==============================================================================
# mise en place
# ==============================================================================

# ------------------------------------------------------------------------------
# activer l'environnement du projet
# ------------------------------------------------------------------------------

renv::restore(prompt = FALSE)

# ------------------------------------------------------------------------------
# définir les répertoires
# ------------------------------------------------------------------------------

source(here::here("R", "02_definir_repertoires.R"))

# ------------------------------------------------------------------------------
# charger les scripts
# ------------------------------------------------------------------------------

# de cette tâche
fs::dir_ls(path = dirs$suivre$r) |>
	purrr::walk(
    .f = ~ source(.x)
  )

# ==============================================================================
# créer le rapport
# ==============================================================================

params <- list(
  dir_proj = dirs$proj,
  fichier_menage = fichier_menage,
  rapport_debut = rapport_debut,
  rapport_fin = rapport_fin
)

rendre_rapport(
  type = "qualite",
  params = params
)
